!function(o){var r={};function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=o,n.c=r,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}({3:function(t,e,o){"use strict";o.r(e);var r=(n.prototype.secondsIntoFuture=function(t,e){var o=e||new Date;return new Date(o.valueOf()+1e3*t)},n.prototype.sessionExpiry=function(t){var e=t||new Date;return this.secondsIntoFuture(60*this.maxSessionAgeInMinutes,e)},n.prototype.vidExpiry=function(t){var e=t||new Date;return this.secondsIntoFuture(365*this.maxVIDAgeInYears*24*3600,e)},n.prototype.makeCookie=function(t,e,o){var r=[t+"="+e,"path=/","expires="+o.toUTCString()],n=this.domainForHostname(location.host);return n&&r.push("domain="+n),r.join("; ")},n.prototype.domainForHostname=function(t){return t.match("phrase.com")?".phrase.com":t.match("phraseapp.com")?".phraseapp.com":void 0},n.prototype.readCookie=function(n){var i;try{return document.cookie.split("; ").some(function(t,e,o){var r=t.split("=");return 1<r.length&&r[0]===n&&(i=r[1],!0)}),i}catch(n){return}},n.prototype.logPayload=function(){var t={h:window.innerHeight,r:document.referrer,w:window.innerWidth};return document.location&&(t.l=document.location.href),t},n.prototype.dataLayer=function(){return window.dataLayer},n.prototype.track=function(){var s=this;return new Promise(function(e,t){var o=s.readCookie(s._vidCookieName),r=!1;if(!o){o=s.generateVID(),r=!0;try{document.cookie=s.makeCookie(s._vidCookieName,o,s.vidExpiry())}catch(t){}}s._dataLayer.push({_pa_vid:o});var n=s.logPayload();n.v=o,r&&(n.c=!0);var i=s.readCookie(s._sidCookieName);i=i||s.generateVID(),s._dataLayer.push({_pa_sid:i}),n.s=i;try{document.cookie=s.makeCookie(s._sidCookieName,i,s.sessionExpiry())}catch(t){}var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var t=JSON.parse(a.responseText);if(n.i=t.iid,t.iid){s._dataLayer.push({_pa_iid:t.iid});try{document.cookie=s.makeCookie(s._ipCookieName,t.iid,s.vidExpiry())}catch(t){}}(new Image).src="https://t.phraseapp.io?pl="+btoa(JSON.stringify(n)),e("")}},a.open("GET","https://t2.phraseapp.io?pl="+btoa(JSON.stringify(n))),a.send()})},n.prototype.generateVID=function(){return this.generateVIDForDate(new Date)},n.prototype.generateVIDForDate=function(t){var e=Math.floor(t.getTime()/1e3),o=1e3*t.getMilliseconds(),r=Math.random().toString(32).replace(/[^a-z]+/g,"").slice(0,6);return e.toString(32)+"-"+o.toString(32)+"-"+r},n);function n(){this.maxSessionAgeInMinutes=30,this.maxVIDAgeInYears=20,this._vidCookieName="_pa_vid",this._sidCookieName="_pa_sid",this._ipCookieName="_pa_iid",this._dataLayer=window.dataLayer||[]}function i(t,e){this._from="",this._to="",this._from=t,this._to=e}(i.prototype.call=function(){try{this.init(document.location.href,document.location.search).then(function(t){(new r).track()}).catch(function(t){(new r).track()})}catch(t){(new r).track()}},i.prototype.init=function(t,e){var o=e||"";try{return!document.cookie.match("_pa_vid")&&t.match(this._to)?this.transferCookies(o):new Promise(function(t,e){t("")})}catch(t){return new Promise(function(t,e){t("")})}},i.prototype.getUrlParameter=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))},i.prototype.cjs=function(t){if(window.btoa){var e=this.getUrlParameter(t,"cjs");if(""!=e)return atob(e)}return""},i.prototype.transferCookies=function(e){var o=this;return this.readRemoteCookies().then(function(t){return""==t&&(t=o.cjs(e)),o.writeCookies(t),t}).catch(function(t){return o.writeCookies(o.cjs(e)),o.cjs(e)})},i.prototype.readRemoteCookies=function(){var t=this;return new Promise(function(e,o){fetch("https://"+t._from+"/cookiejs/parse",{method:"POST",credentials:"include"}).then(function(t){return t.json()}).then(function(t){return e(t.cookies)}).catch(function(t){return o(t)})})},i.prototype.whitelisted=function(t){return["__hssc","__hssrc","_pa_sid","_gid","_fbp","nQ_cookieId","gdpr-io","_hjid","__ar_v4","nQ_visitId","__hstc","hubspotutk","messagesUtk","__adroll","_ga","__adroll_fpc","_pa_vid","_pa_iid","language"].includes(t)},i.prototype.writeCookies=function(t){var n=this;t.split(";").map(function(t){var e=t.split("="),o=e[0],r=e[1];if(n.whitelisted(o))try{document.cookie=[n.makeCookieParts(o,r,n.expiry(o),""),n.makeCookieParts(o,r,n.expiry(o),".")].join("; ")}catch(t){}})},i.prototype.makeCookieParts=function(t,e,o,r){var n=[t+"="+e,"path=/","expires="+o.toUTCString()];return location&&"localhost"!==location.hostname&&n.push("domain="+r+this._to),n.join("; ")},i.prototype.expiry=function(t){return{__hssc:this.expiryDate(0,0,1,0),_gid:this.expiryDate(0,0,2,0),_pa_sid:this.expiryDate(30,0,0,0)}[t]||this.expiryDate(0,0,0,10)},i.prototype.expiryDate=function(t,e,o,r){var n;return void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0),void 0===r&&(r=0),n=60*(t+60*(e+24*(o+365*r))),new Date((new Date).valueOf()+1e3*n)},new i("phraseapp.com","phrase.com")).call()}});